# Docker Hardened Images 可用类型

Docker Hardened Images (DHI) 是一个全面的安全加固容器镜像目录，旨在满足多样化的开发和生产需求。

## 框架和应用镜像

DHI 包含一系列流行的框架和应用镜像，每个镜像都经过安全加固和维护，以确保安全性和合规性。这些镜像能够无缝集成到现有工作流中，让开发者能够专注于构建应用，而不必牺牲安全性。

例如，您可能会在 DHI 目录中找到以下类型的仓库：

- `node`：Node.js 应用的框架
- `python`：Python 应用的框架
- `nginx`：Web 服务器镜像

## 基础镜像发行版

Docker Hardened Images 提供多种基础镜像选项，让您能够灵活选择最适合您的环境和工作负载需求的镜像：

- **Debian 基础镜像**：如果您已经在使用 glibc 环境，这是理想选择。Debian 应用广泛，能够与多种语言生态和企业系统保持良好的兼容性。

- **Alpine 基础镜像**：一种更小、更轻量级的选项，使用 musl libc。这些镜像体积较小，因此拉取速度更快，占用空间更少。

每个镜像都通过移除非必要组件（如 shell、包管理器和调试工具）来维持最小且安全的运行时层。这有助于减少攻击面，同时保持与常见运行时环境的兼容性。为了维持这一精简、安全的基础，DHI 对基于 glibc 的镜像标准化使用 Debian，这在最小化复杂性和维护开销的同时提供了广泛的兼容性。

示例标签包括：

- `3.9.23-alpine3.21`：Python 3.9.23 的 Alpine 基础镜像
- `3.9.23-debian12`：Python 3.9.23 的 Debian 基础镜像

如果您不确定选择哪种，可以从您已经熟悉的发行版开始。Debian 通常提供最广泛的兼容性。

## 开发和运行时变体

为了适应应用生命周期的不同阶段，DHI 为所有语言框架镜像和部分应用镜像提供两种变体：

- **开发（dev）镜像**：配备必要的开发工具和库，这些镜像有助于在安全环境中构建和测试应用。它们包含 shell、包管理器、root 用户以及其他开发所需的工具。

- **运行时镜像**：移除开发工具，这些镜像仅包含运行应用所需的必要组件，确保在生产环境中具有最小的攻击面。

这种分离支持多阶段构建，使开发者能够在安全的构建环境中编译代码，并使用精简的运行时镜像进行部署。

例如，您可能会在 DHI 仓库中找到以下标签：

- `3.9.23-debian12`：Python 3.9.23 的运行时镜像
- `3.9.23-debian12-dev`：Python 3.9.23 的开发镜像

## FIPS 和 STIG 变体 {tier="DHI Enterprise"}





  
  
  
  


  <div
    class="not-prose summary-bar"
  >
    
      <div class="flex flex-wrap gap-1">
        <span class="font-bold">Subscription:</span>
        
          <span>Docker Hardened Images Enterprise</span>
          <span class="icon-svg">
            
            
              <svg 
  class="w-5 h-5 text-gray-800 dark:text-white"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
  xmlns="http://www.w3.org/2000/svg"
  focusable="false"
  aria-hidden="true"
>
<path d="M18.1639 21.6147V18.6147M18.1639 18.6147V15.6147M18.1639 18.6147H15.1639M18.1639 18.6147H21.1639M19.8692 13.3281C19.9541 12.8974 20 12.4544 20 11.9999V7.21747C20 6.41796 20 6.0182 19.8692 5.67457C19.7537 5.37101 19.566 5.10015 19.3223 4.8854C19.0465 4.64231 18.6722 4.50195 17.9236 4.22122L12.5618 2.21054C12.3539 2.13258 12.25 2.0936 12.143 2.07815C12.0482 2.06444 11.9518 2.06444 11.857 2.07815C11.75 2.0936 11.6461 2.13258 11.4382 2.21054L6.0764 4.22122C5.3278 4.50195 4.9535 4.64231 4.67766 4.8854C4.43398 5.10015 4.24627 5.37101 4.13076 5.67457C4 6.0182 4 6.41796 4 7.21747V11.9999C4 16.9083 9.35396 20.4783 11.302 21.6147C11.5234 21.7439 11.6341 21.8085 11.7903 21.842C11.9116 21.868 12.0884 21.868 12.2097 21.842C12.3659 21.8085 12.4766 21.7439 12.698 21.6147C12.986 21.4467 13.3484 21.2255 13.757 20.9547M14.517 9.70865C14.517 10.4365 14.2081 11.0922 13.7143 11.5517C13.5354 11.7181 13.446 11.8013 13.4126 11.8658C13.3774 11.9337 13.3672 11.9737 13.3656 12.0501C13.364 12.1227 13.3936 12.2115 13.4528 12.3891L14.2225 14.6983C14.322 14.9966 14.3717 15.1458 14.3419 15.2645C14.3158 15.3684 14.2509 15.4584 14.1606 15.516C14.0574 15.5818 13.9002 15.5818 13.5858 15.5818H10.4142C10.0998 15.5818 9.94255 15.5818 9.83936 15.516C9.74903 15.4584 9.68416 15.3684 9.65807 15.2645C9.62826 15.1458 9.67797 14.9966 9.7774 14.6983L10.5472 12.3891C10.6063 12.2115 10.6359 12.1227 10.6344 12.0501C10.6328 11.9737 10.6226 11.9337 10.5874 11.8658C10.5539 11.8013 10.4645 11.7181 10.2857 11.5517C9.79182 11.0922 9.48291 10.4365 9.48291 9.70865C9.48291 8.31852 10.6098 7.19159 12 7.19159C13.3901 7.19159 14.517 8.31852 14.517 9.70865Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            
          </span>
        
      </div>
    

    

    

    
  </div>



部分 Docker Hardened Images 包含 `-fips` 变体。这些变体使用经过 [FIPS
140](../core-concepts/fips.md) 验证的加密模块，FIPS 140 是美国政府关于安全加密操作的标准。

FIPS 变体旨在帮助组织满足敏感或受监管环境中与加密使用相关的法规和合规要求。

您可以通过标签中包含 `-fips` 来识别 FIPS 变体。

例如：
- `3.13-fips`：Python 3.13 镜像的 FIPS 变体
- `3.9.23-debian12-fips`：Debian 基础 Python 3.9.23 镜像的 FIPS 变体

FIPS 变体可以像任何其他 Docker Hardened Image 一样使用，非常适合在受监管行业或需要加密验证的合规框架下运营的团队。

除了 FIPS 变体外，部分 Docker Hardened Images 还包括 STIG 就绪变体。这些镜像会针对基于自定义 STIG 的配置文件进行扫描，并提供签名的 STIG 扫描证明，以支持审计和合规报告。要识别 STIG 就绪变体，请查看 Docker Hub 目录中镜像标签列表的 **Compliance** 列中的 **STIG** 标识。

## 兼容性变体

部分 Docker Hardened Images 包含兼容性变体。这些变体为特定用例提供额外的工具和配置，而不会使最小基础镜像变得臃肿。

兼容性变体的创建旨在支持：

- **Helm 图表兼容性**：通过 Helm 图表和 Kubernetes 部署的应用，需要特定的运行时配置或工具，以与流行的 Helm 图表无缝集成。

- **特殊应用用例**：需要可选工具的应用，这些工具未包含在最小镜像中。

通过提供这些独立的镜像风味，DHI 确保最小镜像保持精简和安全，同时在专用变体中提供您需要的工具。这种方法在标准部署中保持最小攻击面，同时在需要时支持特殊需求。

您可以通过标签中包含 `-compat` 来识别兼容性变体。

当您的部署需要超出最小运行时的额外工具时，请使用兼容性变体，例如使用 Helm 图表或具有特定工具要求的应用。
