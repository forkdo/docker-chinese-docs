---
description: Docker Desktop Mac 2.x 的更新日志 / 发布说明
keywords: Docker Desktop for Mac 2.x 发布说明
title: Docker Desktop for Mac 2.x 发布说明
toc_min: 1
toc_max: 2
aliases: /desktop/mac/release-notes/2.x/
sitemap: false
---

本文档包含 Docker Desktop for Mac 2.x 的发布说明。

## Docker Desktop Community 2.5.0.1 
2020-11-10

### 升级

- [Compose CLI v1.0.2](https://github.com/docker/compose-cli/releases/tag/v1.0.2)
- [Snyk v1.424.4](https://github.com/snyk/snyk/releases/tag/v1.424.4)

### 错误修复和小幅改进
- 修复了在 macOS 11.0 (Big Sur) 上安装 VirtualBox 时导致 Docker Desktop 崩溃的问题。参见 [docker/for-mac#4997](https://github.com/docker/for-mac/issues/4997)。

## Docker Desktop Community 2.5.0.0
2020-11-02

Docker Desktop 2.5.0.0 包含 Kubernetes 升级。安装此版本后，您的本地 Kubernetes 集群将被重置。

### 新功能

- 拥有付费 Docker 订阅的用户现在可以在 Docker Desktop 的“远程仓库”选项卡中查看漏洞扫描报告。
- Docker Desktop 为拥有付费 Docker 订阅的用户引入了支持选项。

### 安全性

- 修复了由证书检查不充分导致的本地权限提升漏洞。参见 [CVE-2021-3162](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3162)。

### 升级

- [Linux kernel 5.4.39](https://hub.docker.com/layers/linuxkit/kernel/5.4.39-f39f83d0d475b274938c86eaa796022bfc7063d2/images/sha256-8614670219aca0bb276d4749e479591b60cd348abc770ac9ecd09ee4c1575405?context=explore)
- [Docker Compose CLI 1.0.1](https://github.com/docker/compose-cli/releases/tag/v1.0.1)
- [Snyk v1.421.1](https://github.com/snyk/snyk/releases/tag/v1.421.1)
- [Go 1.15.2](https://github.com/golang/go/releases/tag/go1.15.2)
- [Kubernetes 1.19.3](https://github.com/kubernetes/kubernetes/releases/tag/v1.19.3)

### 错误修复和小幅改进

- 将“运行诊断”重命名为“获取支持”。
- 移除了 BlueStacks 警告消息。修复了 [docker/for-mac#4863](https://github.com/docker/for-mac/issues/4863)。
- 在共享卷包含大量文件的情况下，容器启动速度更快。修复了 [docker/for-mac#4957](https://github.com/docker/for-mac/issues/4957)。
- 文件共享：修复了只读文件的所有权更改问题。修复了 [docker/for-mac#4989](https://github.com/docker/for-mac/issues/4989)、[docker/for-mac#4964](https://github.com/docker/for-mac/issues/4964)。
- 文件共享：除了 `MODIFY` 外，还会生成 `ATTRIB` inotify 事件。修复了 [docker/for-mac#4962](https://github.com/docker/for-mac/issues/4962)。
- 文件共享：对不支持的模式返回 `EOPNOTSUPP`。修复了 `minio`。修复了 [docker/for-mac#4964](https://github.com/docker/for-mac/issues/4964)。
- 文件共享：修复了可能过早关闭文件句柄的问题。
- 当与容器共享 Linux 目录（如 `/var`、`/bin` 等）时，Docker Desktop 会避免监视主机文件系统中的路径。
- 当共享文件到容器时（例如 `docker run -v ~/.gitconfig`），Docker Desktop 不会监视父目录。修复了 [docker/for-mac#4981](https://github.com/docker/for-mac/issues/4981)、[docker/for-mac#4975](https://github.com/docker/for-mac/issues/4975)。
- 修复了与 NFS 挂载相关的问题。修复了 [docker/for-mac#4958](https://github.com/docker/for-mac/issues/4958)。
- 允许符号链接指向共享卷外部。修复了 [docker/for-mac#4862](https://github.com/docker/for-mac/issues/4862)。
- 诊断：当 Kubernetes 处于损坏状态时，避免挂起。
- Docker Desktop 现在支持在共享文件系统上调用 `chmod(2)` 时使用 `S_ISUID`、`S_ISGID` 和 `S_ISVTX`。修复了 [docker/for-mac#4943](https://github.com/docker/for-mac/issues/4943)。

## Docker Desktop Community 2.4.0.0
2020-09-30

Docker Desktop 2.4.0.0 包含 Kubernetes 升级。安装此版本后，您的本地 Kubernetes 集群将被重置。

### 新功能

- [Docker Compose CLI - 0.1.18](https://github.com/docker/compose-cli)，支持通过 ECS 和 ACI 在 Compose 和云中使用卷。
- Docker 在 Docker Dashboard 中引入了新的镜像视图。镜像视图允许用户查看 Hub 镜像，拉取它们并管理本地磁盘上的镜像，包括清理不需要和未使用的镜像。要访问新的镜像视图，请从 Docker 菜单中选择 **Dashboard** > **Images**。
- Docker Desktop 在重置为出厂默认设置后默认启用 BuildKit。要恢复到旧的 `docker build` 体验，请转到 **Preferences** > **Docker Engine** 并禁用 BuildKit 功能。
- [Amazon ECR Credential Helper](https://github.com/awslabs/amazon-ecr-credential-helper/releases/tag/v0.4.0)
- Docker Desktop 现在在主机上有大量文件事件和运行 Kubernetes 时使用更少的 CPU，参见 [docker/roadmap#12](https://github.com/docker/roadmap/issues/12)。
- Docker Desktop 现在默认使用 gRPC-FUSE 进行文件共享。这比 osxfs 使用更少的 CPU，特别是当主机上有大量文件事件时。要切换回 `osxfs`，请转到 **Preferences** > **General** 并禁用 gRPC-FUSE。

### 升级

- [Docker 19.03.13](https://github.com/docker/docker-ce/releases/tag/v19.03.13)
- [Docker Compose 1.27.4](https://github.com/docker/compose/releases/tag/1.27.4)
- [Go 1.14.7](https://github.com/golang/go/releases/tag/go1.14.7)
- [Alpine 3.12](https://alpinelinux.org/posts/Alpine-3.12.0-released.html)
- [Kubernetes 1.18.8](https://github.com/kubernetes/kubernetes/releases/tag/v1.18.8)
- [Qemu 4.2.0](https://git.qemu.org/?p=qemu.git;a=tag;h=1e4aa2dad329852aa6c3f59cefd65c2c2ef2062c)

### 错误修复和小幅改进

- macOS 10.13 上的 Docker Desktop 现在已弃用。
- 移除了旧的 Kubernetes 上下文 `docker-for-desktop`。应使用上下文 `docker-desktop`。修复了 [docker/for-win#5089](https://github.com/docker/for-win/issues/5089) 和 [docker/for-mac#4089](https://github.com/docker/for-mac/issues/5089)。
- 将应用程序添加到 Dock 并点击它，如果 Docker 已在运行，将启动容器视图。
- 添加了通过 Qemu 4.2.0 模拟 Risc-V 的支持。
- 移除了文件描述符限制（`setrlimit`）`10240`。我们现在依赖内核通过 `kern.maxfiles` 和 `kern.maxfilesperproc` 施加限制。
- 通过从 `hyperkit` 中移除串行控制台修复了 Mac CPU 使用率错误，参见 [docker/roadmap#12]( https://github.com/docker/roadmap/issues/12#issuecomment-663163280)。要在 VM 中打开 shell，请使用 `nc -U ~/Library/Containers/com.docker.docker/Data/debug-shell.sock`。
- 将容器日志复制到剪贴板时移除 ANSI 颜色。修复了 [docker/for-mac#4786](https://github.com/docker/for-mac/issues/4786)。
- 修复了自动登录启动。参见 [docker/for-mac#4877] 和 [docker/for-mac#4890]。
- 修复了用户名过长导致应用程序无法启动的错误。
- 修复了将 `/usr` 等目录添加到文件共享列表会阻止 Desktop 启动的错误。修复了 [docker/for-mac#4488](https://github.com/docker/for-mac/issues/4488)
- 修复了如果在 Docker `daemon.json` 中指定了 `hosts`，应用程序启动失败的问题。参见 [docker/for-win#6895](https://github.com/docker/for-win/issues/6895#issuecomment-637429117)
- Docker Desktop 在容器启动时始终同步刷新文件系统缓存。参见 [docker/for-mac#4943](https://github.com/docker/for-mac/issues/4943)。
- Compose-on-Kubernetes 不再包含在 Docker Desktop 安装程序中。您可以从 compose-on-kubernetes [发布页面](https://github.com/docker/compose-on-kubernetes/releases)单独下载。

### 已知问题

- 使用 `docker-compose` 与命名卷和 gRPC FUSE 时存在已知问题：由于卷路径前缀为 `/host_mnt`，第二次及后续调用 `docker-compose up` 会失败。要解决此问题，请在设置中切换回 `osxfs`。参见 [docker/for-mac#4859](https://github.com/docker/for-mac/issues/4859)。
- 启用 Kubernetes 时存在已知问题，设置 UI 无法更新 Kubernetes 状态。要解决此问题，请关闭并重新打开窗口。
- 切换用户时存在罕见的已知问题，镜像视图继续显示前一个用户的仓库。要解决此问题，请关闭并重新打开窗口。

## Docker Desktop Community 2.3.0.5
2020-09-15

### 新功能

- Docker CLI 中的新云集成使得使用 Amazon ECS 或 Microsoft ACI 在云中运行容器变得简单。
### 升级

- [Docker Compose 1.27.2](https://github.com/docker/compose/releases/tag/1.27.2)
- [Cloud integration v0.1.15](https://github.com/docker/aci-integration-beta/releases/tag/v0.1.15)

### 错误修复和小幅改进

- 修复了自动登录启动。参见 [docker/for-mac#4877](https://github.com/docker/for-mac/issues/4877) 和 [docker/for-mac#4890](https://github.com/docker/for-mac/issues/4890)

### 已知问题

- `clock_gettime64` 系统调用在 i386 镜像中返回 `EPERM` 而不是 `ENOSYS`。
  要解决此问题，请使用 `--privileged` 标志禁用 `seccomp`。参见 [docker/for-win#8326](https://github.com/docker/for-win/issues/8326)。

## Docker Desktop Community 2.3.0.4
2020-07-27

### 升级

- [Docker 19.03.12](https://github.com/docker/docker-ce/releases/tag/v19.03.12)
- [Docker Compose 1.26.2](https://github.com/docker/compose/releases/tag/1.26.2)
- [Go 1.13.14](https://github.com/golang/go/issues?q=milestone%3AGo1.13.14+label%3ACherryPickApproved)

### 错误修复和小幅改进

- 修复了 `com.docker.vmnetd` 中的权限提升漏洞。参见 [CVE-2020-15360](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-15360)
- 修复了 Kubernetes 证书过期时启动的问题。参见 [docker/for-mac#4594](https://github.com/docker/for-mac/issues/4594)
- 修复了 `hyperkit` 和 [osquery](https://osquery.io) 之间的不兼容性，这导致了过高的 `hyperkit` CPU 使用率。参见 [docker/for-mac#3499](https://github.com/docker/for-mac/issues/3499#issuecomment-619544836)
- Dashboard：修复了有时被截断的容器日志。修复了 [docker/for-win#5954](https://github.com/docker/for-win/issues/5954)

## Docker Desktop Community 2.3.0.3
2020-05-27

### 升级

- [Linux kernel 4.19.76](https://hub.docker.com/layers/docker/for-desktop-kernel/4.19.76-83885d3b4cff391813f4262099b36a529bca2df8-amd64/images/sha256-0214b82436af70054e013ea51cb1fea72bd943d0d6245b6521f1ff09a505c40f?context=repo)

### 错误修复和小幅改进

- 重新将 device-mapper 添加到嵌入式 Linux 内核中。修复了 [docker/for-mac#4549](https://github.com/docker/for-mac/issues/4549)。
- 修复了在较新的 Mac 和较新版本的 `Hypervisor.framework` 上的 `hyperkit`。修复了 [docker/for-mac#4562](https://github.com/docker/for-mac/issues/4562)。

## Docker Desktop Community 2.3.0.2
2020-05-11


### 新功能

Docker Desktop 在首次启动时引入了新的入门教程。快速入门教程指导用户通过几个简单的步骤开始使用 Docker。它包括一个构建示例 Docker 镜像、将其作为容器运行、推送到 Docker Hub 并保存镜像的简单练习。

### 升级

- [Docker Compose 1.25.5](https://github.com/docker/compose/releases/tag/1.25.5)
- [Go 1.13.10](https://github.com/golang/go/issues?q=milestone%3AGo1.13.10+label%3ACherryPickApproved)
- [Linux kernel 4.19.76](https://hub.docker.com/layers/docker/for-desktop-kernel/4.19.76-ce15f646db9b062dc947cfc0c1deab019fa63f96-amd64/images/sha256-6c252199aee548e4bdc8457e0a068e7d8e81c2649d4c1e26e4150daa253a85d8?context=repo)
- LinuxKit [init](https://hub.docker.com/layers/linuxkit/init/1a80a9907b35b9a808e7868ffb7b0da29ee64a95/images/sha256-64cc8fa50d63940dbaa9979a13c362c89ecb4439bcb3ab22c40d300b9c0b597e?context=explore)、[runc](https://hub.docker.com/layers/linuxkit/runc/69b4a35eaa22eba4990ee52cccc8f48f6c08ed03/images/sha