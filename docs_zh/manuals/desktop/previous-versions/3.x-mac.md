---
description: Docker Desktop for Mac 3.x 的变更日志/发布说明
keywords: Docker Desktop for Mac 3.x 发布说明
title: Docker Desktop for Mac 3.x 发布说明
toc_min: 1
toc_max: 2
aliases:
- /desktop/mac/previous-versions/
- /docker-for-mac/previous-versions/
- /desktop/mac/release-notes/3.x/
sitemap: false
---

本文档包含 Docker Desktop for Mac 3.x 的发布说明。

## Docker Desktop 3.6.0
2021-08-11

### 新增

- **开发环境 (Dev Environments)**：你现在可以从本地 Git 仓库创建开发环境。
- **卷管理 (Volume Management)**：你现在可以按卷的名称、创建日期和大小进行排序。你也可以使用 **搜索** 字段搜索特定的卷。更多信息，请参阅 [探索卷](../use-desktop/volumes.md)。

### 升级

- [Compose V2 RC1](https://github.com/docker/compose-cli/releases/tag/v2.0.0-rc.1)
  - Docker compose 命令行补全。
  - 允许设置 0 规模/副本。
  - 检测 `logs --follow` 中的新容器。
- [Go 1.16.7](https://github.com/golang/go/releases/tag/go1.16.7)
- [Docker Engine 20.10.8](/manuals/engine/release-notes/20.10.md#20108)
- [containerd v1.4.9](https://github.com/containerd/containerd/releases/tag/v1.4.9)
- [runc v1.0.1](https://github.com/opencontainers/runc/releases/tag/v1.0.1)
- [Kubernetes 1.21.3](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.3)
- [Linux kernel 5.10.47](https://hub.docker.com/layers/docker/for-desktop-kernel/5.10.47-0b705d955f5e283f62583c4e227d64a7924c138f/images/sha256-a4c79bc185ec9eba48dcc802a8881b9d97e532b3f803d23e5b8d4951588f4d51?context=repo)

### Bug 修复和小改动

- 更新内核配置以修复 [Docker Desktop 3.0.0](#docker-desktop-300) 中的性能回归问题，该问题导致发布容器端口的时间比旧版本长 10 倍。更多信息，请参阅 [linuxkit/linuxkit#3701](https://github.com/linuxkit/linuxkit/pull/3701) 和 [docker/for-mac#5668](https://github.com/docker/for-mac/issues/5668)。
- 修复了 DNS 服务器在收到意外的大数据报后失败的 bug。
- 修复了与硬件加速相关的问题 [docker/for-mac#5121](https://github.com/docker/for-mac/issues/5121)
- 修复了与 macOS 上跳过此更新相关的问题 [docker/for-mac#5842](https://github.com/docker/for-mac/issues/5842)

## Docker Desktop 3.5.2
2021-07-08

### 新增

**开发环境预览版 (Dev Environments Preview)**：开发环境允许你与团队成员无缝协作，而无需在 Git 分支之间切换以将代码共享到团队成员的机器上。使用开发环境时，你可以通过单击一次将正在进行的工作共享给团队成员，而无需处理任何合并冲突。

### 升级

- [Compose V2 beta 6](https://github.com/docker/compose-cli/releases/tag/v2.0.0-beta.6)
  - `compose run` 和 `compose exec` 命令使用独立的流处理 stdout 和 stderr。参见 [docker/compose-cli#1873](https://github.com/docker/compose-cli/issues/1873)。
  - `compose run` 和 `compose exec` 命令支持分离键。修复 [docker/compose-cli#1709](https://github.com/docker/compose-cli/issues/1709)。
  - 修复了 `compose rm` 命令的 `--force` 和 `--volumes` 标志。参见 [docker/compose-cli#1844](https://github.com/docker/compose-cli/issues/1844)。
  - 修复了网络的 IPAM 配置。服务可以定义固定 IP。修复 [docker/compose-cli#1678](https://github.com/docker/compose-cli/issues/1678) 和 [docker/compose-cli#1816](https://github.com/docker/compose-cli/issues/1816)

- 开发环境
  - 支持 VS Code Insiders。
  - 允许用户在克隆项目时指定分支。

### Bug 修复和小改动

- 开发环境：修复了在某些创建和删除场景中的空白屏幕问题。修复 [dev-environments#4](https://github.com/docker/dev-environments/issues/4)
- 开发环境：修复了删除环境时的错误处理问题。修复 [dev-environments#8](https://github.com/docker/dev-environments/issues/8)
- 开发环境：当环境正在创建或删除时，**启动**、**停止** 和 **共享** 按钮被禁用。
- 修复了使用 `virtualization.framework` 且不使用 `vpnkit` 时的连接泄漏问题。
- 修复了 iptables 更新时的虚假跟踪。
- 修复了添加多个端口转发选项时的延迟问题。

## Docker Desktop 3.5.1
2021-06-25

### 新增

**开发环境预览版 (Dev Environments Preview)**：开发环境允许你与团队成员无缝协作，而无需在 Git 分支之间切换以将代码共享到团队成员的机器上。使用开发环境时，你可以通过单击一次将正在进行的工作共享给团队成员，而无需处理任何合并冲突。

**Compose V2 beta**：Docker Desktop 现在包含 Compose V2 的 beta 版本，支持作为 Docker CLI 一部分的 `docker compose` 命令。虽然 `docker-compose` 仍然受支持和维护，但 Compose V2 的实现直接依赖于作为规范一部分维护的 compose-go 绑定。Docker CLI 中的 compose 命令支持大多数 `docker-compose` 命令和标志。它预计将作为 `docker-compose` 的直接替代品。还有一些标志尚未实现，参见 [docker-compose 兼容性列表](/manuals/compose/releases/migrate.md) 了解新 compose 命令支持的标志信息。如果你在使用 Compose V2 时遇到任何问题，可以通过在 Docker Desktop **实验性** 设置中进行更改，或运行命令 `docker-compose disable-v2` 轻松切换回 Compose v1。请通过在 [Compose-CLI](https://github.com/docker/compose-cli/issues) GitHub 仓库中创建问题来告诉我们你对新 ‘compose’ 命令的反馈。

### Bug 修复和小改动

- 修复了指向提供 Docker 如何处理上传诊断数据详细信息的策略的链接。修复 [docker/for-mac#5741](https://github.com/docker/for-mac/issues/5741)

## Docker Desktop 3.5.0
2021-06-23

### 新增

**开发环境预览版 (Dev Environments Preview)**：开发环境允许你与团队成员无缝协作，而无需在 Git 分支之间切换以将代码共享到团队成员的机器上。使用开发环境时，你可以通过单击一次将正在进行的工作共享给团队成员，而无需处理任何合并冲突。

**Compose V2 beta**：Docker Desktop 现在包含 Compose V2 的 beta 版本，支持作为 Docker CLI 一部分的 `docker compose` 命令。虽然 `docker-compose` 仍然受支持和维护，但 Compose V2 的实现直接依赖于作为规范一部分维护的 compose-go 绑定。Docker CLI 中的 compose 命令支持大多数 `docker-compose` 命令和标志。它预计将作为 `docker-compose` 的直接替代品。还有一些标志尚未实现，参见 [docker-compose 兼容性列表](/manuals/compose/releases/migrate.md) 了解新 compose 命令支持的标志信息。如果你在使用 Compose V2 时遇到任何问题，可以通过在 Docker Desktop **实验性** 设置中进行更改，或运行命令 `docker-compose disable-v2` 轻松切换回 Compose v1。请通过在 [Compose-CLI](https://github.com/docker/compose-cli/issues) GitHub 仓库中创建问题来告诉我们你对新 ‘compose’ 命令的反馈。

### 升级

- [Compose V2 beta](https://github.com/docker/compose-cli/releases/tag/v2.0.0-beta.4)
  - 修复了当文件绑定挂载到嵌套挂载点时容器无法启动的 bug。修复 [docker/compose-cli#1795](https://github.com/docker/compose-cli/issues/1795)。
  - 添加了对容器链接和外部链接的支持。
  - 引入了 `docker compose logs --since --until` 选项。
  - `docker compose config --profiles` 现在列出所有已定义的配置文件。
- 从 [Kubernetes 1.21.1](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.1) 升级到 [Kubernetes 1.21.2](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.2)

### Bug 修复和小改动

- **卷管理**
  - 用户现在可以通过 Docker Dashboard 删除卷中的文件或目录。
  - Docker Dashboard 中的 **卷** 视图显示卷内容的最后修改时间和大小。
  - 用户可以从 Docker Dashboard 保存卷中的文件和目录。
- 修复了由于 `/usr/bin` 未在 `PATH` 中而导致 Docker 启动失败的 bug。修复 [docker/for-mac#5770](https://github.com/docker/for-mac/issues/5770)
- Docker Desktop 现在允许在容器中的主机目录（作为嵌套挂载点）内修改文件。修复 [docker/for-mac#5748](https://github.com/docker/for-mac/issues/5748)。
- 修复了设置迁移 bug，该 bug 导致 Docker Desktop 在升级到 3.4.0 后找不到镜像和容器数据。修复 [docker/for-mac#5754](https://github.com/docker/for-mac/issues/5754)。
- Docker Desktop 现在在 Apple Silicon 上的 Docker Dashboard 中高亮显示非本地镜像的架构。
- 修复在 macOS 12 (Monterey) 上使用 virtualization.framework 的问题。
- 默认的 `docker` CLI `context` 现在是 `desktop-linux`。
- 只有在点击 Docker 菜单时才显示 Docker Desktop 反馈弹窗。

## Docker Desktop 3.4.0
2021-06-09

### 新增

**卷管理**：Docker Desktop 用户现在可以使用 Docker Dashboard 创建和删除卷，并查看哪些卷正在被使用。更多信息，请参阅 [探索卷](../use-desktop/volumes.md)。

**Compose V2 beta**：Docker Desktop 现在包含 Compose V2 的 beta 版本，支持作为 Docker CLI 一部分的 `docker compose` 命令。虽然 `docker-compose` 仍然受支持和维护，但 Compose V2 的实现直接依赖于作为规范一部分维护的 compose-go 绑定。Docker CLI 中的 compose 命令支持大多数 `docker-compose` 命令和标志。它预计将作为 `docker-compose` 的直接替代品。还有一些标志尚未实现，参见 [docker-compose 兼容性列表](/manuals/compose/releases/migrate.md) 了解新 compose 命令支持的标志信息。如果你在使用 Compose V2 时遇到任何问题，可以通过在 Docker Desktop **实验性** 设置中进行更改，或运行命令 `docker-compose disable-v2` 轻松切换回 Compose v1。请通过在 [Compose-CLI](https://github.com/docker/compose-cli/issues) GitHub 仓库中创建问题来告诉我们你对新 ‘compose’ 命令的反馈。

**跳过 Docker Desktop 更新**：所有用户现在可以在提示安装 Docker Desktop 特定版本时跳过更新。

### 弃用

- Docker Desktop 不再安装 Notary。你现在可以使用 [Docker 内容信任](/manuals/engine/security/trust/_index.md) 进行镜像签名。

### 升级

- [Docker Engine 20.10.7](/manuals/engine/release-notes/20.10.md#20107)
- [Docker Compose 1.29.2](https://github.com/docker/compose/releases/tag/1.29.2)
- [Docker Hub Tool v0.4.1](https://github.com/docker/hub-tool/releases/tag/v0.4.1)
- [Compose CLI v1.0.16](https://github.com/docker/compose-cli/releases/tag/v1.0.16)
- [Kubernetes 1.21.1](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.1)
- [containerd v1.4.6](https://github.com/containerd/containerd/releases/tag/v1.4.6)
- [runc v1.0.0-rc95](https://github.com/opencontainers/runc/releases/tag/v1.0.0-rc95)
- [Go 1.16.5](https://github.com/golang/go/releases/tag/go1.16.5)

### Bug 修复和小改动

- 防止 `docker run` 在 inotify 事件注入失败时挂起。修复 [docker/for-mac#5590](https://github.com/docker/for-mac/issues/5590)。
- 修复了在 UI 中显示 stderr 日志的错误。修复 [docker/for-mac#5688](https://github.com/docker/for-mac/issues/5688)。
- 修复了导致 `riscv64` 仿真在 Docker Desktop 上失败的问题。修复 [docker/for-mac#5699](https://github.com/docker/for-mac/issues/5699)。
- 通过删除卷和移除构建缓存，在删除容器后自动回收空间。
- Docker Desktop 现在允许为 Docker 引擎配置空的 HTTP 代理，这将完全禁用内部 HTTP 代理。参见 [docker/for-mac#2467](https://github.com/docker/for-mac/issues/2467)。
- 现在可以从 Docker Desktop 中删除文件名不是 `docker-compose.yml` 的 Docker Compose 应用。修复 [docker/for-win#11046](https://github.com/docker/for-win/issues/11046)
- Docker Desktop 现在在 Apple Silicon 上暴露主机 CPU。修复 [docker/for-mac#5681](https://github.com/docker/for-mac/issues/5681)。
- 避免在引擎重启时泄漏绑定到特权端口和特定 IP 的开放端口。修复 [docker/for-mac#5649](https://github.com/docker/for-mac/issues/5649)。
- 使用 `vpnkit` 和 `virtualization.framework` 修复与 VPN 客户端（如 Cisco AnyConnect）的连接问题。
- 修复更新对话框窗口中缺少版本号的问题。
- 修复了诊断有时无法从 **支持** 对话框正确上传的问题。
- 修复了 DNS 条目 `*.docker.internal` 和 Kubernetes 集群在 VM IP 更改后重置的问题。修复 [docker/for-mac#5707](https://github.com/docker/for-mac/issues/5707)、[docker/for-mac#5680](https://github.com/docker/for-mac/issues/5680)、[docker/for-mac#5663](https://github.com/docker/for-mac/issues/5663) 和 [docker/for-mac#5653](https://github.com/docker/for-mac/issues/5653)。
- 在启用 gRPC FUSE 时避免运行 `com.docker.osxfs`。修复 [docker/for-mac#5725](https://github.com/docker/for-mac/issues/5725)。

### 已知问题

- 在 Apple Silicon 上的原生 `arm64` 容器中，`debian:buster`、`ubuntu:20.04` 和 `centos:8` 中较旧版本的 `libssl` 在连接到某些 TLS 服务器时会崩溃，例如 `curl https://dl.yarnpkg.com`。该 bug 在 `debian:bullseye`、`ubuntu:21.04` 和 `fedora:35` 中较新版本的 `libssl` 中已修复。

## Docker Desktop 3.3.3
2021-05-06

### 升级

- [Snyk v1.563.0](https://github.com/snyk/snyk/releases/tag/v1.563.0)
- [Docker Scan v0.8.0](https://github.com/docker/scan-cli-plugin/releases/tag/v0.8.0)

### Bug 修复和小改动

- 修复了诊断无法从故障排除屏幕上传的问题。

### Docker Desktop 3.3.2
2021-05-03

### 升级

- [Compose CLI v1.0.14](https://github.com/docker