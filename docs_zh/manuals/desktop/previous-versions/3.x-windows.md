---
description: Docker Desktop for Windows 3.x 发行说明
keywords: Docker Desktop for Windows 3.x, 发行说明
title: Docker for Windows 3.x 发行说明
toc_min: 1
toc_max: 2
aliases:
- /desktop/windows/previous-versions/
- /docker-for-windows/previous-versions/
- /desktop/windows/release-notes/3.x/
sitemap: false
---

本页面包含 Docker Desktop for Windows 3.x 的发行说明。

## Docker Desktop 3.6.0
2021-08-11

### 新增功能

- **开发环境（Dev Environments）**：现在可以从本地 Git 仓库创建开发环境。
- **卷管理（Volume Management）**：现在可以按卷名称、创建日期和卷大小对卷进行排序。还可以使用 **搜索** 字段搜索特定卷。更多信息，请参阅 [探索卷](../use-desktop/volumes.md)。

### 升级内容

- [Compose V2 RC1](https://github.com/docker/compose-cli/releases/tag/v2.0.0-rc.1)
  - Docker compose 命令行补全
  - 允许设置 0 规模/副本
  - 在 logs —follow 中检测新容器
- [Go 1.16.7](https://github.com/golang/go/releases/tag/go1.16.7)
- [Docker Engine 20.10.8](/manuals/engine/release-notes/20.10.md#20108)
- [containerd v1.4.9](https://github.com/containerd/containerd/releases/tag/v1.4.9)
- [runc v1.0.1](https://github.com/opencontainers/runc/releases/tag/v1.0.1)
- [Kubernetes 1.21.3](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.3)
- [Linux kernel 5.10.47](https://hub.docker.com/layers/docker/for-desktop-kernel/5.10.47-0b705d955f5e283f62583c4e227d64a7924c138f/images/sha256-a4c79bc185ec9eba48dcc802a8881b9d97e532b3f803d23e5b8d4951588f4d51?context=repo)

### Bug 修复和小改动

- 更新内核配置以修复 [Docker Desktop 3.0.0](#docker-desktop-300) 中的性能回归问题，该问题导致容器端口发布比旧版本慢 10 倍。更多信息，请参阅 [linuxkit/linuxkit#3701](https://github.com/linuxkit/linuxkit/pull/3701) 和 [docker/for-mac#5668](https://github.com/docker/for-mac/issues/5668)。
- 修复 DNS 服务器在接收到意外的大数据报后失败的问题。
- 修复 iptables 更新时的虚假跟踪。
- 修复添加多个端口转发选项时的缓慢问题。
- 修复 WSL 2 同步代码在 Linux WSL 2 主目录与 Windows 主目录相同时创建悬空符号链接的错误。修复 [docker/for-win#11668](https://github.com/docker/for-win/issues/11668)。
- 在 3.5.x 升级后，当 Linux WSL 2 主目录与 Windows 主目录相同时，修复 `docker context ls`。
- 修复 `%PROGRAMDATA%\Docker` 的权限以避免 Windows 容器的潜在妥协。参见 [CVE-2021-37841](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-37841)。感谢 [Alessio Dalla Piazza](http://it.linkedin.com/in/alessiodallapiazza) 发现此问题，以及 @kevpar 的有益讨论。
- 修复 WSL 2 下 Linux 主目录被设置为 Windows 主目录（例如 `/mnt/c/Users/...`）的错误。
- 修复 Desktop 在无法解析 CLI 上下文时无法启动的错误。修复 [docker/for-win#11601](https://github.com/docker/for-win/issues/11601)。
- 修复容器内日志显示相关的问题 [docker/for-win#11251](https://github.com/docker/for-win/issues/11251)。
- 修复 Windows 后台智能传输服务的失败，该失败阻止 Docker Desktop 启动。[docker/for-win#11273](https://github.com/docker/for-win/issues/11273)

## Docker Desktop 3.5.2
2021-07-08

### 新增功能

**开发环境预览版（Dev Environments Preview）**：开发环境使您能够无缝协作，无需在 Git 分支之间切换即可将代码共享给团队成员。使用开发环境时，您可以一键共享正在进行的工作，而无需处理合并冲突。

### 升级内容

- [Compose V2 beta 6](https://github.com/docker/compose-cli/releases/tag/v2.0.0-beta.6)
  - `compose run` 和 `compose exec` 命令使用独立的流处理 stdout 和 stderr。参见 [docker/compose-cli#1873](https://github.com/docker/compose-cli/issues/1873)。
  - `compose run` 和 `compose exec` 命令支持分离键。修复 [docker/compose-cli#1709](https://github.com/docker/compose-cli/issues/1709)。
  - 修复 `compose rm` 命令的 `--force` 和 `--volumes` 标志。参见 [docker/compose-cli#1844](https://github.com/docker/compose-cli/issues/1844)。
  - 修复网络的 IPAM 配置。服务可以定义固定 IP。修复 [docker/compose-cli#1678](https://github.com/docker/compose-cli/issues/1678) 和 [docker/compose-cli#1816](https://github.com/docker/compose-cli/issues/1816)

- 开发环境
  - 支持 VS Code Insiders
  - 允许用户在克隆项目时指定分支。参见 [dev-environments#11](https://github.com/docker/dev-environments/issues/11)

### Bug 修复和小改动

- 开发环境：修复在某些创建和删除场景中的空白屏幕问题。修复 [dev-environments#4](https://github.com/docker/dev-environments/issues/4)
- 开发环境：修复删除环境时的错误处理。修复 [dev-environments#8](https://github.com/docker/dev-environments/issues/8)
- 开发环境：在环境创建或删除期间，**启动**、**停止** 和 **共享** 按钮被禁用。
- 不再在应用程序启动或在 Windows 和 Linux 容器之间切换时自动切换 CLI 上下文。修复 [docker/for-mac#5787](https://github.com/docker/for-mac/issues/5787) 和 [docker/for-win#11530](https://github.com/docker/for-win/issues/11530)。
- 修复 iptables 更新时的虚假跟踪。
- 修复添加多个端口转发选项时的延迟问题。

## Docker Desktop 3.5.1
2021-06-25

### 新增功能

**开发环境预览版（Dev Environments Preview）**：开发环境使您能够无缝协作，无需在 Git 分支之间切换即可将代码共享给团队成员。使用开发环境时，您可以一键共享正在进行的工作，而无需处理合并冲突。

**Compose V2 beta**：Docker Desktop 现在包含 Compose V2 的 beta 版本，支持作为 Docker CLI 一部分的 `docker compose` 命令。虽然 `docker-compose` 仍然受支持和维护，但 Compose V2 实现直接依赖于作为规范一部分维护的 compose-go 绑定。Docker CLI 中的 compose 命令支持大多数 `docker-compose` 命令和标志。它被期望作为 `docker-compose` 的直接替代品。还有一些标志尚未实现，更多信息请参阅 [docker-compose 兼容性列表](/manuals/compose/releases/migrate.md)。如果您在 Compose V2 中遇到任何问题，可以通过在 Docker Desktop **实验性** 设置中进行更改，或运行命令 `docker-compose disable-v2` 轻松切换回 Compose v1。请通过在 [Compose-CLI](https://github.com/docker/compose-cli/issues) GitHub 仓库中创建问题来告诉我们您对新 'compose' 命令的反馈。

### Bug 修复和小改动

- 修复用户在临时文件夹路径包含点时无法安装 Docker Desktop 的错误。修复 [docker/for-win#11514](https://github.com/docker/for-win/issues/11514)
- 修复指向策略的链接，该策略提供 Docker 如何处理上传诊断数据的详细信息。修复 [docker/for-mac#5741](https://github.com/docker/for-mac/issues/5741)

## Docker Desktop 3.5.0
2021-06-23

### 新增功能

**开发环境预览版（Dev Environments Preview）**：开发环境使您能够无缝协作，无需在 Git 分支之间切换即可将代码共享给团队成员。使用开发环境时，您可以一键共享正在进行的工作，而无需处理合并冲突。

**Compose V2 beta**：Docker Desktop 现在包含 Compose V2 的 beta 版本，支持作为 Docker CLI 一部分的 `docker compose` 命令。虽然 `docker-compose` 仍然受支持和维护，但 Compose V2 实现直接依赖于作为规范一部分维护的 compose-go 绑定。Docker CLI 中的 compose 命令支持大多数 `docker-compose` 命令和标志。它被期望作为 `docker-compose` 的直接替代品。还有一些标志尚未实现，更多信息请参阅 [docker-compose 兼容性列表](/manuals/compose/releases/migrate.md)。如果您在 Compose V2 中遇到任何问题，可以通过在 Docker Desktop **实验性** 设置中进行更改，或运行命令 `docker-compose disable-v2` 轻松切换回 Compose v1。请通过在 [Compose-CLI](https://github.com/docker/compose-cli/issues) GitHub 仓库中创建问题来告诉我们您对新 'compose' 命令的反馈。

### 升级内容

- [Compose V2 beta](https://github.com/docker/compose-cli/releases/tag/v2.0.0-beta.4)
  - 修复容器在文件绑定挂载到嵌套挂载点时无法启动的错误。修复 [docker/compose-cli#1795](https://github.com/docker/compose-cli/issues/1795)。
  - 添加对容器链接和外部链接的支持。
  - 引入 `docker compose logs --since --until` 选项。
  - `docker compose config --profiles` 现在列出所有定义的配置文件。
- 从 [Kubernetes 1.21.1](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.1) 升级到 [Kubernetes 1.21.2](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.2)

### Bug 修复和小改动

- **卷管理**
  - 用户现在可以通过 Docker Dashboard 创建和删除卷，并查看哪些卷正在被使用。
  - Docker Dashboard 的 **卷** 视图显示卷内内容的最后修改时间和大小。
  - 用户可以从 Docker Dashboard 保存卷内的文件和目录。
- 修复运行 `docker login` 命令时导致 credStore 超时错误的问题。修复 [docker/for-win#11472](https://github.com/docker/for-win/issues/11472)
- Docker Desktop 现在允许 WSL 2 集成代理在 `/etc/wsl.conf` 格式错误时启动。
- 修复 Docker Compose 应用在由多个配置文件启动时无法停止或删除的问题。[docker/for-win#11445](https://github.com/docker/for-win/issues/11445)
- 修复电源故障后 Docker Desktop 无法重启的问题，因为 Hyper-V 虚拟机过早重启。
- Linux 容器模式下的默认 `docker` CLI `context` 现在是 `desktop-linux`，Windows 容器模式下是 `desktop-windows`。
- 仅在点击 Docker 菜单时显示 Docker Desktop 反馈弹窗。

## Docker Desktop 3.4.0
2021-06-09

### 新增功能

**卷管理（Volume Management）**：Docker Desktop 用户现在可以使用 Docker Dashboard 创建和删除卷，并查看哪些卷正在被使用。更多信息，请参阅 [探索卷](../use-desktop/volumes.md)。

**Compose V2 beta**：Docker Desktop 现在包含 Compose V2 的 beta 版本，支持作为 Docker CLI 一部分的 `docker compose` 命令。虽然 `docker-compose` 仍然受支持和维护，但 Compose V2 实现直接依赖于作为规范一部分维护的 compose-go 绑定。Docker CLI 中的 compose 命令支持大多数 `docker-compose` 命令和标志。它被期望作为 `docker-compose` 的直接替代品。还有一些标志尚未实现，更多信息请参阅 [docker-compose 兼容性列表](/manuals/compose/releases/migrate.md)。如果您在 Compose V2 中遇到任何问题，可以通过在 Docker Desktop **实验性** 设置中进行更改，或运行命令 `docker-compose disable-v2` 轻松切换回 Compose v1。请通过在 [Compose-CLI](https://github.com/docker/compose-cli/issues) GitHub 仓库中创建问题来告诉我们您对新 'compose' 命令的反馈。

**跳过 Docker Desktop 更新（Skip Docker Desktop updates）**：所有用户现在可以在提示安装 Docker Desktop 特定版本时跳过更新。

### 弃用

- Docker Desktop 不再安装 Notary，应使用 `docker trust` 进行镜像签名。

### 升级内容

- [Docker Engine 20.10.7](/manuals/engine/release-notes/20.10.md#20107)
- [Docker Compose 1.29.2](https://github.com/docker/compose/releases/tag/1.29.2)
- [Docker Hub Tool v0.4.1](https://github.com/docker/hub-tool/releases/tag/v0.4.1)
- [Compose CLI v1.0.16](https://github.com/docker/compose-cli/releases/tag/v1.0.16)
- [Kubernetes 1.21.1](https://github.com/kubernetes/kubernetes/releases/tag/v1.21.1)
- [containerd v1.4.6](https://github.com/containerd/containerd/releases/tag/v1.4.6)
- [runc v1.0.0-rc95](https://github.com/opencontainers/runc/releases/tag/v1.0.0-rc95)
- [Go 1.16.5](https://github.com/golang/go/releases/tag/go1.16.5)

### Bug 修复和小改动

- 修复在 UI 中显示 stderr 日志的错误。修复 [docker/for-win#11251](https://github.com/docker/for-win/issues/11251)。
- 通过删除卷和移除构建缓存，在删除容器后自动回收空间。
- 文件名不是 `docker-compose.yml` 的 Docker Compose 应用现在可以从 Docker Desktop 中删除。修复 [docker/for-win#11046](https://github.com/docker/for-win/issues/11046)
- 修复更新对话框窗口中缺少版本号的问题。
- 修复诊断有时无法从 **支持** 对话框正确上传的问题。
- 修复 `*.docker.internal` 的 DNS 条目和 Kubernetes 集群在 VM IP 更改后的重置问题。
- 修复阻止 Docker Desktop 启动的损坏内部缓存。修复 [docker/for-win#8748](https://github.com/docker/for-win/issues/8748)。
- 修复 `docker info` 有时响应较慢的问题。修复 [docker/for-win#10675](https://github.com/docker/for-win/issues/10675)

## Docker Desktop 3.3.3
2021-05-06

### 升级内容

- [Snyk v1.563.0](https://github.com/snyk/snyk/releases/tag/v1.563.0)
- [Docker Scan v0.8.0](https://github.com/docker/scan-cli-plugin/releases/tag/v0.8.0)

### Bug 修复和小改动

- 修复从故障排除屏幕上传诊断失败的问题。

## Docker Desktop 3.3.2
2021-05-03

### 升级内容

- [Compose CLI v1.0.14](https://github.com/docker/compose-cli/tree/v1.0.14)
- [Go 1.16.3](https://golang.org/doc/go1.16)
- [Docker Compose 1.29.1](https://github.com/docker/compose/releases/tag/1.29.1)
- [Docker Engine 20.10.6](/manuals/engine/release-notes/20.10.md#20106)

### Bug 修复和小改动

- 修复引擎 `daemon.json` 中定义的 `metrics-port` 阻止应用程序重启的错误。
- 修复短暂端口泄漏。修复 [docker/for-mac#5611](https://github.com/docker/for-mac/issues/5611)。
- 默认启用 buildkit 