---
description: Docker Desktop for Windows 2.x 版本说明
keywords: Docker Desktop for Windows 2.x, 版本说明
title: Docker for Windows 2.x 版本说明
toc_min: 1
toc_max: 2
aliases: /desktop/windows/release-notes/2.x/
sitemap: false
---

本页面包含 Docker Desktop for Windows 2.x 的版本说明。

## Docker Desktop Community 2.5.0.1
2020-11-10

### 升级

- [Compose CLI v1.0.2](https://github.com/docker/compose-cli/releases/tag/v1.0.2)
- [Snyk v1.424.4](https://github.com/snyk/snyk/releases/tag/v1.424.4)

## Docker Desktop Community 2.5.0.0
2020-11-02

Docker Desktop 2.5.0.0 包含 Kubernetes 升级。安装此版本后，您的本地 Kubernetes 集群将被重置。

### 新增功能

- 拥有付费 Docker 订阅的用户现在可以在 Docker Desktop 的远程仓库标签页中查看漏洞扫描报告。
- Docker Desktop 为拥有付费 Docker 订阅的用户引入了支持选项。

### 升级

- [Linux kernel 5.4.39](https://hub.docker.com/layers/linuxkit/kernel/5.4.39-f39f83d0d475b274938c86eaa796022bfc7063d2/images/sha256-8614670219aca0bb276d4749e479591b60cd348abc770ac9ecd09ee4c1575405?context=explore)
- [Docker Compose CLI 1.0.1](https://github.com/docker/compose-cli/releases/tag/v1.0.1)
- [Snyk v1.421.1](https://github.com/snyk/snyk/releases/tag/v1.421.1)
- [Go 1.15.2](https://github.com/golang/go/releases/tag/go1.15.2)
- [Kubernetes 1.19.3](https://github.com/kubernetes/kubernetes/releases/tag/v1.19.3)

### 废弃

- Docker Desktop 不再支持安装在 Windows 1703（构建版本 15063）上。

### Bug 修复和小改动

- 将“运行诊断”重命名为“获取支持”。
- 修复了间歇性导致 WSL 2 后端启动失败的问题。
- 修复了与 NFS 挂载相关的问题。参见 [docker/for-mac#4958](https://github.com/docker/for-mac/issues/4958)。
- 修复了当 bash 在 Docker Desktop 启动之前启动时，无法在 WSL 中找到 docker CLI 的问题。
- 修复了 HTTP 代理排除列表包含 `localhost` 或 `127.0.0.1` 等条目时的问题。修复 [docker/for-win#8750](https://github.com/docker/for-win/issues/8750)。
- 当 WSL 集成进程意外停止时，现在会通知用户并允许用户决定是否重启，而不是始终在循环中尝试重启。修复 [docker/for-win#8968](https://github.com/docker/for-win/issues/8968)。
- 修复了在高负载下容器日志延迟的问题。修复 [docker/for-win#8216](https://github.com/docker/for-win/issues/8216)。
- 诊断：当 Kubernetes 处于损坏状态时避免挂起。
- 修复了用户名包含空格时安装程序日志文件默认位置路径的问题。修复 [docker/for-win#7941](https://github.com/docker/for-win/issues/7941)。
- 修复了某些网络插件可能无法加载，导致 Docker 守护进程崩溃的问题。参见 [docker/for-win#9282](https://github.com/docker/for-win/issues/9282)。
- 当将文件共享到容器中时（例如 `docker run -v ~/.gitconfig`），Docker Desktop 不再监视父目录。修复 [docker/for-mac#4981](https://github.com/docker/for-mac/issues/4981)。

## Docker Desktop Community 2.4.0.0
2020-09-30

Docker Desktop 2.4.0.0 包含 Kubernetes 升级。安装此版本后，您的本地 Kubernetes 集群将被重置。

### 新增功能

- [Docker Compose CLI - 0.1.18](https://github.com/docker/compose-cli)，支持通过 ECS 和 ACI 在云中使用卷和 Compose。
- Docker 在 Docker Dashboard 中引入了新的镜像视图。镜像视图允许用户查看 Hub 镜像，拉取它们并管理磁盘上的本地镜像，包括清理不需要和未使用的镜像。要访问新的镜像视图，请从 Docker 菜单中选择 **Dashboard** > **Images**。
- Docker Desktop 现在默认启用 BuildKit，但需要重置为出厂设置后生效。要恢复到旧的 `docker build` 体验，请转到 **Settings** > **Docker Engine** 并禁用 BuildKit 功能。
- [Amazon ECR Credential Helper](https://github.com/awslabs/amazon-ecr-credential-helper/releases/tag/v0.4.0)

### 升级

- [Docker 19.03.13](https://github.com/docker/docker-ce/releases/tag/v19.03.13)
- [Docker Compose 1.27.4](https://github.com/docker/compose/releases/tag/1.27.4)
- [Go 1.14.7](https://github.com/golang/go/releases/tag/go1.14.7)
- [Alpine 3.12](https://alpinelinux.org/posts/Alpine-3.12.0-released.html)
- [Kubernetes 1.18.8](https://github.com/kubernetes/kubernetes/releases/tag/v1.18.8)
- [Qemu 4.2.0](https://git.qemu.org/?p=qemu.git;a=tag;h=1e4aa2dad329852aa6c3f59cefd65c2c2ef2062c)

### Bug 修复和小改动

- 移除了遗留的 Kubernetes 上下文 `docker-for-desktop`。应该使用上下文 `docker-desktop`。修复 [docker/for-win#5089](https://github.com/docker/for-win/issues/5089) 和 [docker/for-mac#4089](https://github.com/docker/for-mac/issues/4089)。
- 从安装程序中移除了从 Windows 容器启动的选项。
- 将应用程序固定到任务栏并点击它，如果 Docker 已经在运行，将启动容器视图。
- 在系统托盘中左键点击鲸鱼图标现在将启动仪表板容器视图。
- Docker Desktop 现在对深色和浅色模式使用不同的系统托盘图标。修复 [docker/for-win#4113](https://github.com/docker/for-win/issues/4113)。
- 添加了通过 Qemu 4.2.0 模拟 Risc-V 的支持。
- 添加了一个低级调试 shell，可通过 `putty -serial \\.\pipe\dockerDebugShell` 访问。
- 将容器日志复制到剪贴板时去除 ansi 颜色。修复 [docker/for-mac#4786](https://github.com/docker/for-mac/issues/4786)。
- 修复了如果在 Docker `daemon.json` 中指定了 `hosts` 时应用程序启动的问题。参见 [docker/for-win#6895](https://github.com/docker/for-win/issues/6895#issuecomment-637429117)
- 修复了短名称的 DNS 解析。参见 [docker/for-win#4425](https://github.com/docker/for-win/issues/4425)。
- 从 `chronyd` 切换到 `sntpcd` 以解决主机时间同步问题。修复 [docker/for-win#4526](https://github.com/docker/for-win/issues/4526)。
- 如果设置了“在 tcp://localhost:2375 上暴露守护进程而不使用 TLS”且 `localhost:2375` 被其他程序使用，则避免阻塞启动。参见 [docker/for-win#6929](https://github.com/docker/for-win/issues/6929) [docker/for-win#6961](https://github.com/docker/for-win/issues/6961)。
- 修复了在设置中添加不存在驱动器上的文件夹时会创建空条目的问题。参见 [docker/for-win#6797](https://github.com/docker/for-win/issues/6797)。
- 避免在共享卷上的文件 I/O 期间出现“功能未实现”的错误。修复 [docker/for-win#5955](https://github.com/docker/for-win/issues/5955)
- 确保 `docker run -v /var/run/docker.sock` 正确重写 Windows 路径，参见 [docker/for-win#6628](https://github.com/docker/for-win/issues/6628)。
- 修复了当 Docker Desktop 加载损坏的 Docker CLI 配置文件时发生的崩溃。修复 [docker/for-win#6657](https://github.com/docker/for-win/issues/6657)。
- 确保在代理设置中 `localhost` 和 `127.0.0.1` 都可以用来重定向到主机上的代理。修复 [docker/for-win#5715](https://github.com/docker/for-win/issues/5715) 和 [docker/for-win#6260](https://github.com/docker/for-win/issues/6260)。
- 修复了在没有互联网连接时登录失败的崩溃。
- 修复了处理包含“..”字符的共享卷路径时的错误。修复 [docker/for-win#5375](https://github.com/docker/for-win/issues/5375)。
- 在弹出通知中报告检查更新错误。修复 [docker/for-win#6364](https://github.com/docker/for-win/issues/6364)。
- 修复了升级过程中的一个错误，即仍在使用基于 PowerShell 的 VM 管理的用户可能会遇到静默卸载崩溃，导致 Docker Desktop 被卸载而不是升级。
- 修复了用户名包含空格时安装程序日志文件默认位置路径的问题。修复 [docker/for-win#7941](https://github.com/docker/for-win/issues/7941)。
- Docker Desktop 在容器启动时总是同步刷新文件系统缓存。参见 [docker/for-mac#4943](https://github.com/docker/for-mac/issues/4943)。
- Compose-on-Kubernetes 不再包含在 Docker Desktop 安装程序中。您可以从 compose-on-kubernetes [发布页面](https://github.com/docker/compose-on-kubernetes/releases) 单独下载。

### WSL 2 变更

- Docker 上下现在在 Windows 和 WSL 发行版之间同步。
- 修复了间歇性导致后端启动失败的问题。
- 修复了 glibc 不兼容时发生的代理崩溃。参见 [docker/for-win#8183](https://github.com/docker/for-win/issues/8183)。
- 修复了删除挂载 `/mnt/wsl` 的容器时会破坏 WSL 集成的问题。参见 [docker/for-win#7836](https://github.com/docker/for-win/issues/7836)。
- 添加了使用 Windows CLI 挂载发行版中文件的支持（例如 `docker run -v \\wsl$\Ubuntu\home\simon\web:/web ...`）
- 修复了尝试使用相对路径的共享卷时的错误消息。修复 [docker/for-win#6894](https://github.com/docker/for-win/issues/6894)。
- 修复了将 Windows 更新到支持 WSL 2 的版本时的问题，其中配置文件被旧的 Hyper-V VM 锁定。
- 修复了 Docker Compose 在 WSL 2 内外版本不一致的问题。修复 [docker/for-win#6461](https://github.com/docker/for-win/issues/6461)。
- 检测到 `docker-desktop` wsl 发行版停止时，显示更清晰的错误消息。
- 修复了暴露端口时的竞态条件。
- 启用对话框不再阻塞其他窗口。

### 已知问题

- 使用 `docker-compose` 与命名卷和 gRPC FUSE 时存在一个已知问题：第二次及后续调用 `docker-compose up` 会失败，因为卷路径具有 `/host_mnt` 前缀。
- 启用 Kubernetes 时存在一个已知问题，设置 UI 有时无法更新 Kubernetes 状态。解决方法是关闭并重新打开窗口。
- 切换用户时存在一个罕见的已知问题，其中镜像 UI 有时继续显示前一个用户的仓库。解决方法是关闭并重新打开窗口。

## Docker Desktop Community 2.3.0.5
2020-09-15

### 新增功能

- Docker CLI 中新的云集成使得使用 Amazon ECS 或 Microsoft ACI 在云中运行容器变得简单。

### 升级

- [Docker Compose 1.27.2](https://github.com/docker/compose/releases/tag/1.27.2)
- [Cloud integration v0.1.15](https://github.com/docker/aci-integration-beta/releases/tag/v0.1.15)

### Bug 修复和小改动

- WSL2：修复了使用不兼容的 glibc 时的崩溃。参见 [docker/for-win#8183](https://github.com/docker/for-win/issues/8183)。

### 已知问题

- `clock_gettime64` 系统调用在 i386 镜像中返回 `EPERM` 而不是 `ENOSYS`。
  要解决此问题，请使用 `--privileged` 标志禁用 `seccomp`。参见 [docker/for-win#8326](https://github.com/docker/for-win/issues/8326)。

## Docker Desktop Community 2.3.0.4
2020-07-27

### 升级

- [Docker 19.03.12](https://github.com/docker/docker-ce/releases/tag/v19.03.12)
- [Docker Compose 1.26.2](https://github.com/docker/compose/releases/tag/1.26.2)
- [Go 1.13.14](https://github.com/golang/go/issues?q=milestone%3AGo1.13.14+label%3ACherryPickApproved)

### Bug 修复和小改动

- Docker Desktop 现在会提示用户共享像 `////c/Users/foo` 这样的路径的目录，而不仅仅是像 `C:\Users\foo` 和 `C:/Users/foo` 这样的路径。
- 安装程序现在在出错或用户取消安装时返回非零退出代码。
- 修复了用户名包含空格时安装程序日志文件默认位置路径的问题。修复 [docker/for-win#6552](https://github.com/docker/for-win/issues/6552)
- 仪表板：修复了 Windows 容器的 CLI 打开问题。参见 [docker/for-win#7079](https://github.com/docker/for-win/issues/7079)
- 仪表板：修复了容器日志有时被截断的问题。修复 [docker/for-win#5954](https://github.com/docker/for-win/issues/5954)
- WSL 2：修复了更改用户默认 shell 会阻塞 WSL 集成的问题。修复 [docker/for-win#7653](https://github.com/docker/for-win/issues/7653)
- WSL 2：修复了恢复卡在“安装中”状态的 WSL 发行版的问题。

## Docker Desktop Community 2.3.0.3
2020-05-27

### 升级

- [Linux kernel 4.19.76](https://hub.docker.com/layers/docker/for-desktop-kernel/4.19.76-83885d3b4cff391813f4262099b36a529bca2df8-amd64/images/sha256-0214b82436af70054e013ea51cb1fea72bd943d0d6245b6521f1ff09a505c40f?context=repo)

### Bug 修复和小改动

- 修复了在禁用 Hyper-V 时重置为出厂设置时的崩溃。修复 [docker/for-win#6738](https://github.com/docker/for-win/issues/6738)。
- 修复了从 WSL 2 运行的应用程序在 VS Code 中打开应用程序的问题。修复 [docker/for-win#6472](https://github.com/docker/for-win/issues/6472)。
- 修复了 WSL 2 中的 Swarm 挂载