---
title: 管理未关联的机器
description: 了解如何使用 Docker 管理控制台管理未关联的机器
keywords: 未关联的机器, insights, 管理用户, 强制登录
sitemap: false
pagefind_exclude: true
noindex: true
params:
    sidebar:
        group: Enterprise
---

{{% restricted title="关于未关联的机器" %}}
未关联的机器是一个私有功能，可能并非所有账户都可以使用。
{{% /restricted %}}

Docker 管理员可以识别、查看和管理 Docker Desktop 机器，这些机器很可能与您的组织相关联，但目前尚未链接到用户账户。这种自助服务功能可帮助您了解整个组织中 Docker Desktop 的使用情况，并简化用户入职流程，无需 IT 介入。

## 前提条件

- Docker Business 或 Team 订阅
- 对您 Docker 组织的组织所有者访问权限

## 关于未关联的机器

未关联的机器是 Docker Desktop 实例，Docker 基于使用模式识别出这些实例很可能属于您的组织，但用户未使用属于您组织的账户登录 Docker Desktop。

## Docker 如何识别未关联的机器

Docker 使用遥测数据来识别哪些机器很可能属于您的组织：

- 域名匹配：使用与您组织关联的电子邮件域名登录的用户
- 注册表模式：分析容器注册表访问模式，表明组织使用情况

## 查看未关联的机器

要查看未关联机器的详细信息：

1. 登录到 [管理控制台](https://app.docker.com/admin) 并选择您的组织。
1. 在 **用户管理** 中，选择 **未关联**。

机器列表显示：

- 机器 ID（Docker 生成的标识符）
- 用于预测用户是否属于您组织的注册表地址
- 用户电子邮件（仅当用户在使用 Docker Desktop 时已登录才会显示）
- Docker Desktop 版本
- 操作系统（OS）
- 最后活动日期
- 强制登录状态

您可以：

- 将列表导出为 CSV
- 对单个或多个机器执行操作

## 为未关联的机器启用强制登录

> [!NOTE]
>
> 未关联机器的强制登录与通过 `registry.json` 和配置文件提供的[组织级强制登录](/enterprise/security/enforce-sign-in/)不同。此强制登录仅要求用户登录，以便管理员可以识别谁在使用机器，这意味着用户可以使用任何电子邮件地址登录。如需更严格的安全部分，限制只能登录组织内用户，请参阅 [强制登录](/enterprise/security/enforce-sign-in/)。

强制登录可帮助您识别谁在使用组织中未关联的机器。启用强制登录后，这些机器上的用户将需要登录 Docker Desktop。登录后，他们的电子邮件地址将出现在未关联列表中，然后您可以将他们添加到您的组织中。

您可以使用两种方法启用强制登录：

- 为组织中所有未关联的机器启用
- 为单个未关联的机器启用

> [!IMPORTANT]
>
> 强制登录仅在 Docker Desktop 重启后生效。用户可以在下次重启前继续使用 Docker Desktop。

### 为所有未关联的机器启用强制登录

要为所有未关联的机器启用强制登录：

1. 登录到 [管理控制台](https://app.docker.com/admin) 并选择您的组织。
1. 在 **用户管理** 中，选择 **未关联**。
1. 打开 **强制登录** 切换按钮。
1. 在弹出的对话框中，选择 **要求登录** 以确认。

所有未关联机器的 **需要登录** 状态将更新为 **是**。

> [!NOTE]
>
> 启用所有未关联机器的强制登录后，将来检测到的任何新机器将自动启用强制登录。强制登录需要 Docker Desktop 版本 4.41 或更高版本。使用较旧版本的用户不会收到登录提示，可以继续正常使用 Docker Desktop，直到他们更新。他们的状态显示为 **待处理**，直到他们更新到版本 4.41 或更高。

### 为单个未关联的机器启用强制登录

要为单个未关联的机器启用强制登录：

1. 登录到 [管理控制台](https://app.docker.com/admin) 并选择您的组织。
1. 在 **用户管理** 中，选择 **未关联**。
1. 找到您要启用强制登录的机器。
1. 选择 **操作** 菜单并选择 **启用登录强制**。
1. 在弹出的对话框中，选择 **要求登录** 以确认。

单个机器的 **需要登录** 状态将更新为 **是**。

> [!NOTE]
>
> 强制登录需要 Docker Desktop 版本 4.41 或更高版本。使用较旧版本的用户不会收到登录提示，可以继续正常使用 Docker Desktop，直到他们更新。他们的状态显示为 **待处理**，直到他们更新到版本 4.41 或更高。

### 用户登录后会发生什么

启用强制登录后：

1. 用户必须重启 Docker Desktop。强制仅在重启后生效。
1. 当用户打开 Docker Desktop 时，他们会看到登录提示。他们必须登录才能继续使用 Docker Desktop。
1. 用户电子邮件地址将出现在 **未关联** 列表中。
1. 您可以将用户添加到您的组织中。

用户登录后可以继续使用 Docker Desktop，即使尚未添加到您的组织中。

## 将未关联的机器添加到您的组织

当您组织中的用户使用 Docker 但未登录时，他们的机器会出现在 **未关联** 列表中。您可以通过两种方式将这些用户添加到您的组织中：

- 自动添加：
    - 自动配置：如果您有启用了自动配置的已验证域名，使用匹配电子邮件域名登录的用户将自动添加到您的组织中。有关验证域名和自动配置的更多信息，请参阅 [域名管理](/manuals/enterprise/security/domain-management.md)。
    - SSO 用户配置：如果您配置了 SSO 和 [即时配置](/manuals/enterprise/security/provisioning/just-in-time.md)，通过 SSO 连接登录的用户将自动添加到您的组织中。
- 手动添加：如果您未设置自动配置或 SSO，或者用户的电子邮件域名与您配置的域名不匹配，他们的电子邮件将出现在 **未关联** 列表中，您可以在那里选择直接添加他们。

> [!NOTE]
>
> 如果您添加用户但组织中没有足够的席位，将弹出一个对话框提示您 **获取更多席位**。

### 添加单个用户

1. 登录到 [管理控制台](https://app.docker.com/admin) 并选择您的组织。
1. 在 **用户管理** 中，选择 **未关联**。
1. 找到您要添加到组织中的机器。
1. 选择 **操作** 菜单并选择 **添加到组织**。
1. 在弹出的对话框中，选择 **添加用户**。

### 批量添加用户

1. 登录到 [管理控制台](https://app.docker.com/admin) 并选择您的组织。
1. 在 **用户管理** 中，选择 **未关联**。
1. 使用 **复选框** 选择您要添加到组织中的机器。
1. 选择 **添加到组织** 按钮。
1. 在弹出的对话框中，选择 **添加用户** 以确认。

## 禁用强制登录

### 禁用所有未关联机器的强制登录

1. 登录到 [管理控制台](https://app.docker.com/admin) 并选择您的组织。
1. 在 **用户管理** 中，选择 **未关联**。
1. 关闭 **强制登录** 切换按钮。
1. 在弹出的对话框中，选择 **关闭登录要求** 以确认。

所有未关联机器的 **需要登录** 状态将更新为 **否**。

### 禁用特定未关联机器的强制登录

1. 登录到 [管理控制台](https://app.docker.com/admin) 并选择您的组织。
1. 在 **用户管理** 中，选择 **未关联**。
1. 找到您要禁用强制登录的机器。
1. 选择 **操作** 菜单并选择 **关闭登录强制**。
1. 在弹出的对话框中，选择 **关闭登录要求** 以确认。

单个机器的 **需要登录** 状态将更新为 **否**。