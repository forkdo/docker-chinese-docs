---
title: Docker Engine 18.02 发布说明
linkTitle: Engine v18.02
toc_min: 1
toc_max: 2
---

## 18.02.0-ce
2018-02-07

### 构建器

- Gitutils：修复检出子模块的问题 [moby/moby#35737](https://github.com/moby/moby/pull/35737)

### 客户端

* 附加：确保附加退出代码与容器匹配 [docker/cli#696](https://github.com/docker/cli/pull/696)
+ 添加对 compose 文件中 tmpfs-mode 的支持 [docker/cli#808](https://github.com/docker/cli/pull/808)
+ 添加新的 compose 文件版本 3.6 [docker/cli#808](https://github.com/docker/cli/pull/808)
- 修复 `docker ps` 中过滤器的问题，其中 `health=starting` 返回空结果 [moby/moby#35940](https://github.com/moby/moby/pull/35940)
+ 改进发布端口范围的显示 [docker/cli#581](https://github.com/docker/cli/pull/581)
* 将 Go 升级到 1.9.3 [docker/cli#827](https://github.com/docker/cli/pull/827)
- 修复 Kubernetes stack 标志中断的问题 [docker/cli#831](https://github.com/docker/cli/pull/831)
* 为 "stack" 命令添加 "swarm" 和 "kubernetes" 注释 [docker/cli#804](https://github.com/docker/cli/pull/804)

### 实验性功能

+ 添加 manifest 命令 [docker/cli#138](https://github.com/docker/cli/pull/138)
* LCOW remotefs - 在 Read() 实现中返回错误 [moby/moby#36051](https://github.com/moby/moby/pull/36051)
+ LCOW：合并 daemon 存储，允许 LCOW 和 WCOW 双模式 [moby/moby#34859](https://github.com/moby/moby/pull/34859)
- LCOW：修复 OpenFile 参数 [moby/moby#36043](https://github.com/moby/moby/pull/36043)
* LCOW：提高最低要求至 Windows RS3 RTM 版本（16299） [moby/moby#36065](https://github.com/moby/moby/pull/36065)

### 日志

* 改进 daemon 配置重载；记录活跃配置 [moby/moby#36019](https://github.com/moby/moby/pull/36019)
- 修复使用 IsErrNotFound 和 IsErrNotImplemented 检测 ContainerLogs 方法错误的问题 [moby/moby#36000](https://github.com/moby/moby/pull/36000)
+ 将 journald 标签添加为 SYSLOG_IDENTIFIER [moby/moby#35570](https://github.com/moby/moby/pull/35570)
* Splunk：限制错误响应的读取器大小 [moby/moby#35509](https://github.com/moby/moby/pull/35509)

### 网络

* 禁用发布网络上的服务可在滚动升级时实现零停机部署 [moby/moby#35960](https://github.com/moby/moby/pull/35960)
- 修复如果多个网络在不同空间中具有相同名称时服务无法启动的问题 [moby/moby#30897](https://github.com/moby/moby/pull/30897)
- 修复使用 `docker service update --network-add` 添加重复网络的问题 [docker/cli#780](https://github.com/docker/cli/pull/780)
- 修复从 17.09 升级到 17.12 时的 ingress 网络问题 [moby/moby#36003](https://github.com/moby/moby/pull/36003)
- 修复 ndots 配置 [docker/libnetwork#1995](https://github.com/docker/libnetwork/pull/1995)
- 修复启用 live-restore 时 IPV6 网络被取消配置的问题 [docker/libnetwork#2043](https://github.com/docker/libnetwork/pull/2043)
+ 在嵌入式 DNS 服务器中添加对 MX 类型 DNS 查询的支持 [docker/libnetwork#2041](https://github.com/docker/libnetwork/pull/2041)

### 打包

+ 为 aarch64 架构的 Fedora 26、Fedora 27 和 Centos 7 添加打包支持 [docker/docker-ce-packaging#71](https://github.com/docker/docker-ce-packaging/pull/71)
- 移除对 Ubuntu Zesty 的支持 [docker/docker-ce-packaging#73](https://github.com/docker/docker-ce-packaging/pull/73)
- 移除对 Fedora 25 的支持 [docker/docker-ce-packaging#72](https://github.com/docker/docker-ce-packaging/pull/72)

### 运行时

- 修复基于管道错误的 Docker 守护进程意外关闭问题 [moby/moby#35968](https://github.com/moby/moby/pull/35968)
- 修复 Win32 中 hcsshim::ImportLayer 失败的某些情况："系统找不到指定的路径" [moby/moby#35924](https://github.com/moby/moby/pull/35924)
* Windows：将构建期间的最大层大小增加到 127GB [moby/moby#35925](https://github.com/moby/moby/pull/35925)
- 修复 Devicemapper：运行 DeleteDevice 时出错，dm_task_run 失败 [moby/moby#35919](https://github.com/moby/moby/pull/35919)
+ 引入 « exec_die » 事件 [moby/moby#35744](https://github.com/moby/moby/pull/35744)
* 将 API 更新到版本 1.36 [moby/moby#35744](https://github.com/moby/moby/pull/35744)
- 修复 `docker update` 无法更新运行中容器的 cpu quota 和 cpu-period 的问题 [moby/moby#36030](https://github.com/moby/moby/pull/36030)
* 使容器的 shm 父目录不可绑定 [moby/moby#35830](https://github.com/moby/moby/pull/35830)
+ 通过使用 pigz 使镜像（层）下载更快 [moby/moby#35697](https://github.com/moby/moby/pull/35697)
+ 保护 daemon 免受缓慢或死锁的卷插件影响 [moby/moby#35441](https://github.com/moby/moby/pull/35441)
- 修复 `DOCKER_RAMDISK` 环境变量未被遵守的问题 [moby/moby#35957](https://github.com/moby/moby/pull/35957)
* 将 containerd 升级到 1.0.1 (9b55aab90508bd389d7654c4baf173a981477d55) [moby/moby#35986](https://github.com/moby/moby/pull/35986)
* 更新 runc 以修复启动和 exec 时的挂起问题 [moby/moby#36097](https://github.com/moby/moby/pull/36097)
- 修复 "--node-generic-resource" 的单复数形式 [moby/moby#36125](https://github.com/moby/moby/pull/36125)