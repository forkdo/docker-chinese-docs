---
title: Docker Engine 版本 28 发布说明
linkTitle: Engine v28
description: 了解 Docker Engine 的最新功能、错误修复和破坏性变更
keywords: docker, docker engine, ce, 新功能, 发布说明
toc_min: 1
toc_max: 2
tags:
  - 发布说明
aliases:
- /engine/release-notes/28.0/
- /engine/release-notes/28.1/
- /engine/release-notes/28.2/
- /engine/release-notes/28.3/
- /engine/release-notes/28.4/
- /engine/release-notes/28.5/
---

本文档描述了 Docker Engine 版本 28 的最新变更、新增功能、已知问题和修复。

有关以下方面的更多信息：

- 已弃用和移除的功能，请参阅 [已弃用的 Engine 功能](../deprecated.md)。
- Engine API 的变更，请参阅 [Engine API 版本历史](/reference/api/engine/version-history/)。

## 28.5.2

{{< release-date date="2025-11-05" >}}

有关此版本的完整拉取请求和变更列表，请参阅相关的 GitHub 里程碑：

- [docker/cli, 28.5.2 里程碑](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A28.5.2)
- [moby/moby, 28.5.2 里程碑](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A28.5.2)

> [!CAUTION]
> 此版本包含对 runc 中三个高严重性安全漏洞的修复：
> - [CVE-2025-31133](https://github.com/opencontainers/runc/security/advisories/GHSA-9493-h29p-rfm2)
> - [CVE-2025-52565](https://github.com/opencontainers/runc/security/advisories/GHSA-qw9x-cqr3-wc7r)
> - [CVE-2025-52881](https://github.com/opencontainers/runc/security/advisories/GHSA-cgrx-mc8f-2prm)
> 
> 这三个漏洞最终都允许通过绕过 runc 对写入任意 `/proc` 文件的限制来实现完整的容器逃逸。

### 错误修复和增强

- dockerd-rootless.sh：如果 slirp4netns 未安装，尝试使用 pasta (passt)。[moby/moby#51162](https://github.com/moby/moby/pull/51162)

### 打包更新

- 将 BuildKit 更新到 [v0.25.2](https://github.com/moby/buildkit/releases/tag/v0.25.2)。[moby/moby#51398](https://github.com/moby/moby/pull/51398)
- 将 Go 运行时更新到 [1.24.9](https://go.dev/doc/devel/release#go1.24.9)。[moby/moby#51387](https://github.com/moby/moby/pull/51387)，[docker/cli#6613](https://github.com/docker/cli/pull/6613)
- 将 runc 更新到 [v1.3.3](https://github.com/opencontainers/runc/releases/tag/v1.3.3)。[moby/moby#51394](https://github.com/moby/moby/pull/51394)

### 弃用

- Go-SDK：cli/command/image/build：弃用 `DefaultDockerfileName`、`DetectArchiveReader`、`WriteTempDockerfile`、`ResolveAndValidateContextPath`。这些工具仅在内部使用，将在下一个版本中移除。[docker/cli#6610](https://github.com/docker/cli/pull/6610)
- Go-SDK：cli/command/image/build：弃用 IsArchive 工具。[docker/cli#6560](https://github.com/docker/cli/pull/6560)
- Go-SDK：opts：弃用 `ValidateMACAddress`。[docker/cli#6560](https://github.com/docker/cli/pull/6560)
- Go-SDK：opts：弃用 ListOpts.Delete()。[docker/cli#6560](https://github.com/docker/cli/pull/6560)

## 28.5.1

{{< release-date date="2025-10-08" >}}

有关此版本的完整拉取请求和变更列表，请参阅相关的 GitHub 里程碑：

- [docker/cli, 28.5.1 里程碑](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A28.5.1)
- [moby/moby, 28.5.1 里程碑](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A28.5.1)

### 错误修复和增强

- 更新 BuildKit 到 v0.25.1。[moby/moby#51137](https://github.com/moby/moby/pull/51137)
- 更新 Go 运行时到 [1.24.8](https://go.dev/doc/devel/release#go1.24.8)。[moby/moby#51133](https://github.com/moby/moby/pull/51133)，[docker/cli#6541](https://github.com/docker/cli/pull/6541)

### 弃用

- api/types/image：InspectResponse：弃用 `Parent` 和 `DockerVersion` 字段。[moby/moby#51105](https://github.com/moby/moby/pull/51105)
- api/types/plugin：弃用 `Config.DockerVersion` 字段。[moby/moby#51110](https://github.com/moby/moby/pull/51110)

## 28.5.0

{{< release-date date="2025-10-02" >}}

有关此版本的完整拉取请求和变更列表，请参阅相关的 GitHub 里程碑：

- [docker/cli, 28.5.0 里程碑](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A28.5.0)
- [moby/moby, 28.5.0 里程碑](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A28.5.0)

> [!WARNING]
> **Raspberry Pi OS 32 位 (armhf) 弃用**
>
> Docker Engine v28 将是支持 Raspberry Pi OS 32 位 (armhf) 的最后一个主要版本。
> 从 Docker Engine v29 开始，新的主要版本将**不再提供** Raspberry Pi OS 32 位 (armhf) 的软件包。
>
> #### 迁移选项
> - **64 位 ARM：** 安装 Debian `arm64` 软件包（完全支持）。
> - **32 位 ARM (v7)：** 安装 Debian `armhf` 软件包（针对 ARMv7 CPU）。
>
> **注意：** 基于 ARMv6 架构的旧设备不再受官方软件包支持，包括：
> - Raspberry Pi 1（Model A/B/A+/B+）
> - Raspberry Pi Zero 和 Zero W

### 错误修复和增强

- 不再在 `docker info` 中为 CLI 插件目录中的断开链接打印警告。[docker/cli#6476](https://github.com/docker/cli/pull/6476)
- 修复在空事件 `Actor.ID` 上 `stats` 导致的 panic。[docker/cli#6471](https://github.com/docker/cli/pull/6471)

### 打包更新

- 移除对传统 CBC 密码套件的支持。[docker/cli#6474](https://github.com/docker/cli/pull/6474)
- 将 Buildkit 更新到 [v0.25.0](https://github.com/moby/buildkit/releases/tag/v0.25.0)。[moby/moby#51075](https://github.com/moby/moby/pull/51075)
- 将 Dockerfile 语法更新到 [v1.19.0](https://github.com/moby/buildkit/releases/tag/dockerfile%2F1.19.0)。[moby/moby#51075](https://github.com/moby/moby/pull/51075)

### 网络

- 消除从数据存储中删除 `endpoint_count` 时产生的无害警告。[moby/moby#51064](https://github.com/moby/moby/pull/51064)
- 修复导致 IPAM 插件在 Windows 上无法加载的错误。[moby/moby#51035](https://github.com/moby/moby/pull/51035)

### API

- 弃用对内核内存 TCP 计费（`KernelMemoryTCP`）的支持。[moby/moby#51067](https://github.com/moby/moby/pull/51067)
- 修复 `GET containers/{name}/checkpoints` 在没有检查点时返回 `null` 而不是空 JSON 数组的问题。[moby/moby#51052](https://github.com/moby/moby/pull/51052)

### Go SDK

- cli-plugins/plugin：Run：允许自定义 CLI。[docker/cli#6481](https://github.com/docker/cli/pull/6481)
- cli/command：添加 `WithUserAgent` 选项。[docker/cli#6477](https://github.com/docker/cli/pull/6477)

### 弃用

- Go-SDK：cli/command：弃用 `DockerCli.Apply`。此方法不再使用，如果下个版本没有剩余使用，将被移除。[docker/cli#6497](https://github.com/docker/cli/pull/6497)
- Go-SDK：cli/command：弃用 `DockerCli.ContentTrustEnabled`。此方法不再使用，将在下个版本中移除。[docker/cli#6495](https://github.com/docker/cli/pull/6495)
- Go-SDK：cli/command：弃用 `DockerCli.DefaultVersion`。此方法不再使用，将在下个版本中移除。[docker/cli#6491](https://github.com/docker/cli/pull/6491)
- Go-SDK：cli/command：弃用 `ResolveDefaultContext` 工具。[docker/cli#6529](https://github.com/docker/cli/pull/6529)
- Go-SDK：cli/command：弃用 `WithContentTrustFromEnv`、`WithContentTrust` 选项。这些选项仅在内部使用，将在下个版本中移除。[docker/cli#6489](https://github.com/docker/cli/pull/6489)
- Go-SDK：cli/manifest/store：弃用 `IsNotFound()`。[docker/cli#6514](https://github.com/docker/cli/pull/6514)
- Go-SDK：templates：弃用 NewParse() 函数。[docker/cli#6469](https://github.com/docker/cli/pull/6469)

## 28.4.0

{{< release-date date="2025-09-03" >}}

有关此版本的完整拉取请求和变更列表，请参阅相关的 GitHub 里程碑：

- [docker/cli, 28.4.0 里程碑](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A28.4.0)
- [moby/moby, 28.4.0 里程碑](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A28.4.0)

### 新增

- 允许 Docker CLI 在 Docker 上下文元数据中存在键值对（`"GODEBUG":"..."`）时设置 `GODEBUG` 环境变量。[docker/cli#6399](https://github.com/docker/cli/pull/6399)

### 错误修复和增强

- 为 `docker pull` 和 `docker image pull` 添加 shell 补全。[docker/cli#6420](https://github.com/docker/cli/pull/6420)
- 修复 v28.3.3 中的回归问题，该问题可能导致在客户端未发送 `X-Registry-Auth` 头时 `docker push` 出现 panic。[moby/moby#50738](https://github.com/moby/moby/pull/50738)
- Windows：可能修复了拉取镜像时出现的"访问被拒绝"错误。[moby/moby#50871](https://github.com/moby/moby/pull/50871)
- containerd 镜像存储：修复在调用非本地构建的镜像时 `docker history` 失败，错误为 `snapshot X does not exist`。[moby/moby#50875](https://github.com/moby/moby/pull/50875)
- containerd 镜像存储：修复 `docker image prune` 以发出正确的 `untag` 和 `delete` 事件，并且只列出已删除镜像的根摘要而不是每个 blob。[moby/moby#50837](https://github.com/moby/moby/pull/50837)
- 移除 `docker push` 和 `docker pull` 在缺少身份验证导致失败后的交互式登录提示。[docker/cli#6256](https://github.com/docker/cli/pull/6256)

### 打包更新

- 将 BuildKit 更新到 [v0.24.0](https://github.com/moby/buildkit/releases/tag/v0.24.0)。[moby#50888](https://github.com/moby/moby/pull/50888)
- 将 Go 运行时更新到 [1.24.7](https://go.dev/doc/devel/release#go1.24.6)。[moby/moby#50889](https://github.com/moby/moby/pull/50889)，[docker/cli#6422](https://github.com/docker/cli/pull/6422)
- 将 `runc` 更新到 [v1.3.0](https://github.com/opencontainers/runc/releases/tag/v1.3.0)。[moby/moby#50699](https://github.com/moby/moby/pull/50699)
- 将 containerd（仅限静态二进制文件）更新到 [v1.7.28](https://github.com/containerd/containerd/releases/tag/v1.7.28)。[moby/moby#50700](https://github.com/moby/moby/pull/50700)

### 网络

- 修复在实时恢复时可能导致容器重启缓慢的问题。[moby/moby#50829](https://github.com/moby/moby/pull/50829)

### API

- 更新 `AuthConfig.Email` 字段的弃用消息。[moby/moby#50797](https://github.com/moby/moby/pull/50797)

### Go SDK

- 弃用 profiles 包，该包已迁移到 [github.com/moby/profiles](https://github.com/moby/profiles)。[moby/moby#50513](https://github.com/moby/moby/pull/50513)

### 弃用

- 弃用对 `--tlscacert`、`--tlscert` 和 `--tlskey` 命令行标志的引用值的特殊处理。[docker/cli#6291](https://github.com/docker/cli/pull/6291)
- 将传统链接环境变量（`DOCKER_KEEP_DEPRECATED_LEGACY_LINKS_ENV_VARS`）标记为在 v28.4 中已弃用，并计划在 v30.0 中移除。[docker/cli#6309](https://github.com/docker/cli/pull/6309)
- Go-SDK：api/types：`build.CacheDiskUsage`、`container.DiskUsage`、`images.DiskUsage` 和 `volumes.DiskUsage` 现在已弃用，将在下一个主要版本中移除。[moby/moby#50768](https://github.com/moby/moby/pull/50768)
- Go-SDK：cli-plugins/manager：弃用 `ReexecEnvvar`。[docker/cli#6411](https://github.com/docker/cli/pull/6411)
- Go-SDK：cli-plugins/manager：弃用注释别名（`CommandAnnotationPlugin`、`CommandAnnotationPluginVendor`、`CommandAnnotationPluginVersion`、`CommandAnnotationPluginInvalid`、`CommandAnnotationPluginCommandPath`），改用 `cli-plugins/manager/metadata` 中的等效项。[docker/cli#6298](https://github.com/docker/cli/pull/6298)
- Go-SDK：cli-plugins/manager：弃用元数据别名（`NamePrefix`、`MetadataSubcommandName`、`HookSubcommandName`、`Metadata`、`ReexecEnvvar`），改用 `cli-plugins/manager/metadata` 中的等效项。[docker/cli#6269](https://github.com/docker/cli/pull/6269)
- Go-SDK