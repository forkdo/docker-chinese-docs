---
title: Docker Engine 18.01 发布说明
linkTitle: Engine v18.01
toc_min: 1
toc_max: 2
---

## 18.01.0-ce
2018-01-10

### 构建器（Builder）

* 修复启用用户命名空间时文件未被删除的问题 [moby/moby#35822](https://github.com/moby/moby/pull/35822)
- 增加对 `docker commit --change ...` 中环境变量展开的支持 [moby/moby#35582](https://github.com/moby/moby/pull/35582)

### 客户端（Client）

* 在堆栈部署配置中返回客户端错误 [docker/cli#757](https://github.com/docker/cli/pull/757)
- 修复清理命令中过滤器标志的描述 [docker/cli#774](https://github.com/docker/cli/pull/774)
+ 将 "pid" 添加到不支持的选项列表中 [docker/cli#768](https://github.com/docker/cli/pull/768)
+ 增加对实验性 Cli 配置的支持 [docker/cli#758](https://github.com/docker/cli/pull/758)
+ 增加对通用资源的 Bash 补全支持 [docker/cli#749](https://github.com/docker/cli/pull/749)
- 修复 docker exec 的 zsh 补全脚本中的错误 [docker/cli#751](https://github.com/docker/cli/pull/751)
+ 在客户端关闭 websocket 附加连接时添加调试消息 [moby/moby#35720](https://github.com/moby/moby/pull/35720)
- 修复 `"docker swarm"` 的 Bash 补全 [docker/cli#772](https://github.com/docker/cli/pull/772)


### 文档（Documentation）
* 修正文档中对 `--publish` 长格式语法的引用 [docker/cli#746](https://github.com/docker/cli/pull/746)
* 修正 MAC_ADMIN 和 MAC_OVERRIDE 的描述 [docker/cli#761](https://github.com/docker/cli/pull/761)
* 更新开发者文档以解释外部 CLI [moby/moby#35681](https://github.com/moby/moby/pull/35681)
- 修复 `"on-failure"` 重启策略被记录为 "failure" 的问题 [docker/cli#754](https://github.com/docker/cli/pull/754)
- 修复 "存储驱动选项" 的锚点链接 [docker/cli#748](https://github.com/docker/cli/pull/748)

### 实验性功能（Experimental）

+ 增加 `docker stack` 命令对 kubernetes 的支持 [docker/cli#721](https://github.com/docker/cli/pull/721)
* 不再将容器 ID 附加到自定义目录检查点 [moby/moby#35694](https://github.com/moby/moby/pull/35694)

### 日志（Logging）

* 修复当 GELF 服务器关闭时，使用 TCP 协议的 GELF 日志驱动导致守护进程崩溃的问题 [moby/moby#35765](https://github.com/moby/moby/pull/35765)
- 修复 awslogs 对大日志的批处理大小计算问题 [moby/moby#35726](https://github.com/moby/moby/pull/35726)

### 网络（Networking）

- Windows：修复允许 docker 服务在 Windows 虚拟机上启动的问题 [docker/libnetwork#1916](https://github.com/docker/libnetwork/pull/1916)
- 修复 docker 拦截 ICS 网络 DNS 请求的问题 [docker/libnetwork#2014](https://github.com/docker/libnetwork/pull/2014)
+ Windows：添加新的网络创建驱动选项 [docker/libnetwork#2021](https://github.com/docker/libnetwork/pull/2021)


### 运行时（Runtime）

* 在容器启动时验证挂载规范，以防止主机路径缺失 [moby/moby#35833](https://github.com/moby/moby/pull/35833)
- 修复用户命名空间内的 overlay2 存储驱动 [moby/moby#35794](https://github.com/moby/moby/pull/35794)
* Zfs：修复容器停止时的繁忙错误 [moby/moby#35674](https://github.com/moby/moby/pull/35674)
- 修复健康检查未使用容器工作目录的问题 [moby/moby#35845](https://github.com/moby/moby/pull/35845)
- 修复 VFS 图驱动因无法设置文件系统配额而初始化失败的问题 [moby/moby#35827](https://github.com/moby/moby/pull/35827)
- 修复 containerd 事件被处理两次的问题 [moby/moby#35896](https://github.com/moby/moby/pull/35896)

### Swarm 模式（Swarm mode）

- 修复如果服务具有相同数量的主机模式发布端口且发布端口为 0，则发布端口未被更新的问题 [docker/swarmkit#2376](https://github.com/docker/swarmkit/pull/2376)
* 使任务终止顺序确定化 [docker/swarmkit#2265](https://github.com/docker/swarmkit/pull/2265)