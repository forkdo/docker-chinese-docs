---
title: Docker Engine 17.10 发布说明
linkTitle: Engine v17.10
toc_min: 1
toc_max: 2
---

## 17.10.0-ce
2017-10-17

> [!IMPORTANT]: 从本次发布开始，`docker service create`、`docker service update`、
`docker service scale` 和 `docker service rollback` 默认使用非分离模式，
使用 `--detach` 可保持旧行为。

### 构建器

* 在上传的构建上下文中将 uid/gid 重置为 0，以与其他客户端共享构建缓存 [docker/cli#513](https://github.com/docker/cli/pull/513)
+ 增加对 `ADD` 命令中无子路径 URL 的支持 [moby/moby#34217](https://github.com/moby/moby/pull/34217)

### 客户端

* 将 `docker stack rm` 的输出移至 stdout [docker/cli#491](https://github.com/docker/cli/pull/491)
* 在 CLI 中对 secrets 和 configs 使用自然排序 [docker/cli#307](https://github.com/docker/cli/pull/307)
* `docker service` 命令默认使用非分离模式 [docker/cli#525](https://github.com/docker/cli/pull/525)
* 即使 Ping 失败也在客户端上设置 APIVersion [docker/cli#546](https://github.com/docker/cli/pull/546)
- 修复 `docker stack deploy` 中不同构建语法导致的加载器错误 [docker/cli#544](https://github.com/docker/cli/pull/544)
* 将 `docker container stats` 的默认输出格式更改为显示 `CONTAINER ID` 和 `NAME` [docker/cli#565](https://github.com/docker/cli/pull/565)
+ 为 `docker container stats` 添加 `--no-trunc` 标志 [docker/cli#565](https://github.com/docker/cli/pull/565)
+ 添加实验性 `docker trust` 命令：`view`、`revoke`、`sign` 子命令 [docker/cli#472](https://github.com/docker/cli/pull/472)
- 各种文档和 shell 补全修复 [docker/cli#610](https://github.com/docker/cli/pull/610) [docker/cli#611](https://github.com/docker/cli/pull/611) [docker/cli#618](https://github.com/docker/cli/pull/618) [docker/cli#580](https://github.com/docker/cli/pull/580) [docker/cli#598](https://github.com/docker/cli/pull/598) [docker/cli#603](https://github.com/docker/cli/pull/603)

### 网络

* 使用每节点、每网络的 LB 端点在 Windows 上启用 ILB/ELB [moby/moby#34674](https://github.com/moby/moby/pull/34674)
* 修复 Overlay 网络中临时 IP 复用的问题 [docker/libnetwork#1935](https://github.com/docker/libnetwork/pull/1935)
* 序列化 bitseq 分配 [docker/libnetwork#1788](https://github.com/docker/libnetwork/pull/1788)
- 在链存在检查时禁用主机名查找 [docker/libnetwork#1974](https://github.com/docker/libnetwork/pull/1974)

### 运行时

* LCOW：通过在销毁前获取日志来增强 UVM 可调试性 [moby/moby#34846](https://github.com/moby/moby/pull/34846)
* LCOW：为绑定挂载准备相关工作 [moby/moby#34258](https://github.com/moby/moby/pull/34258)
* LCOW：支持 docker cp 及构建时的 ADD/COPY [moby/moby#34252](https://github.com/moby/moby/pull/34252)
* LCOW：VHDX 启动为只读模式 [moby/moby#34754](https://github.com/moby/moby/pull/34754)
* 卷：在重新标记挂载源之前先评估符号链接 [moby/moby#34792](https://github.com/moby/moby/pull/34792)
- 修复 `docker cp` 以允许在主机符号链接目录中使用新目标文件名 [moby/moby#31993](https://github.com/moby/moby/pull/31993)
+ 增加对拉取时 Windows 版本过滤的支持 [moby/moby#35090](https://github.com/moby/moby/pull/35090)

### Swarm 模式

* 如果在工作节点上执行 `docker swarm init --force-new-cluster` 则产生错误 [moby/moby#34881](https://github.com/moby/moby/pull/34881)
+ 增加对 Swarm 服务中 `.Node.Hostname` 模板的支持 [moby/moby#34686](https://github.com/moby/moby/pull/34686)
* 将发送快照的 gRPC 请求超时增加到 20 秒 [docker/swarmkit#2391](https://github.com/docker/swarmkit/pull/2391)
- 如果日志驱动设置为 `none` 则不过滤节点 [docker/swarmkit#2396](https://github.com/docker/swarmkit/pull/2396)
+ 在 IPAM 驱动请求中添加 IPAM 选项 [docker/swarmkit#2324](https://github.com/docker/swarmkit/pull/2324)